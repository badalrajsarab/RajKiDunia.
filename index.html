<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RajKiDunia</title>
    <link rel="stylesheet" href="./css/style.css">
</head>

<body>
    <div class="sign">
        <div class="container">
            <img src="https://www.logolynx.com/images/logolynx/ca/caec3ebc94200aabb4a2c31891100f28.png" alt="Logo Dome"
                class="logo">
            <div class="name">
                <form id="loginForm">
                    <input type="text" placeholder="Enter User Name" id="username" class="input-animation" required>
                    <div class="pass">
                        <input type="password" placeholder="Enter Password" id="password" class="input-animation"
                            required>

                    </div>
                    <button type="submit" class="login-button">Login</button>
                </form>
                <button class="signup-button" id="signup-button">Sign Up</button>
            </div>
        </div>
    </div>

    <script>
        function signUpUser(username, password) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            users.push({ username, password });
            localStorage.setItem('users', JSON.stringify(users));
        }

        document.getElementById("loginForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.username === username && u.password === password);

            if (user) {
                window.location.href = "http://127.0.0.1:5502/server/index.html";
            } else {
                alert("Login failed. Please sign up.");
            }
        });

        function signUpUser(username, password, phone) {
            const users = JSON.parse(localStorage.getItem('users')) || [];

            if (phone.length === 10 && !isNaN(phone)) {

                users.push({ username, password, phone });
                localStorage.setItem('users', JSON.stringify(users));
                alert("Sign up successful! You can now log in.");
            } else {
                alert("Phone number must be 10 digits long and consist only of numbers.");
            }
        }

        document.getElementById("signup-button").addEventListener("click", function () {
            const username = prompt("Enter User Name");
            const password = prompt("Enter Password");
            const phone = prompt("Enter Phone Number (10 digits)");

            if (username && password && phone) {
                signUpUser(username, password, phone);
                window.location.href = "http://127.0.0.1:5502/server/index.html";

            }
        });
    </script>

</body>

</html>